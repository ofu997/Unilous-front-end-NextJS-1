{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{RNiq:function(e,t,a){\"use strict\";a.r(t);var n=a(\"wx14\"),r=a(\"rePB\"),s=a(\"o0o1\"),i=a.n(s),o=a(\"HaE+\"),c=a(\"ODXe\"),l=a(\"q1tI\"),u=a.n(l),m=a(\"/MKj\"),d=a(\"ttZb\"),p=a(\"+Ik6\"),b=a(\"0J1E\"),f=a(\"YFqc\"),P=a.n(f),h=a(\"VFWX\"),g=a(\"GXNg\"),v=a.n(g),N=a(\"22Ly\"),O=a(\"ImUx\"),k=a(\"L4Rq\"),w=a(\"KPOt\"),j=a(\"rUwt\"),y=a(\"mIJh\"),S=a(\"iD+C\"),C=a(\"BkJp\"),x=a(\"ANjH\"),A=a(\"5PY3\"),q=a(\"B/3u\"),I=a(\"nOHt\"),U=a(\"5Yp1\"),T=a(\"8Kt/\"),_=a.n(T),D=u.a.createElement;function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F=Object(I.withRouter)((function(e){var t=Object(l.useState)(e.post),a=t[0],r=t[1],s=Object(l.useState)(null),u=s[0],m=s[1],f=Object(C.c)(\"text\"),g=Object(C.c)(\"text\"),y=Object(d.useMutation)(p.j,{onError:function(e){console.log(e)}}),S=Object(c.a)(y,1)[0],x=Object(d.useMutation)(p.h,{onError:function(t){t.message.includes(\"is longer than the maximum allowed length\")&&Object(C.b)(\"warning\",\"message$: message of \".concat(g.fields.value.length,\" characters exceeded the maximum of 800 characters.\"),e.setAlert,e.resetAlert)}}),A=Object(c.a)(x,1)[0],q=Object(d.useMutation)(p.c,{onError:function(t){t.message.includes(\"is longer than the maximum allowed length\")&&Object(C.b)(\"warning\",\"question$: question of \".concat(f.fields.value.length,\" characters exceeded the maximum of 800 characters.\"),e.setAlert,e.resetAlert)}}),I=Object(c.a)(q,1)[0],T=function(){var t=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.token||Object(C.b)(\"warning\",\"sign in$: must be signed in to perform this action\",e.setAlert,e.resetAlert),t.next=3,S({variables:{user:e.currentUser._id,postId:a._id}});case 3:t.sent&&(e.setCurrentUserSP(e.currentUser.savedPosts.concat(a)),Object(C.b)(\"success\",\"followed$: you are now following this post\",e.setAlert,e.resetAlert));case 5:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=Object(d.useQuery)(b.h,{variables:{title:decodeURIComponent(e.postTitle)}}),F=function(){var e=B.data,t=a;return e&&e.searchAnsweredQToPost&&t?t.qanda?null:e.searchAnsweredQToPost:null}();if(Object(l.useEffect)((function(){F&&r(E(E({},a),{},{qanda:F}))}),[F,r,a]),!a)return D(h.a,null);var $=new Date(Number(a.time));$=($=$.toString().split(\" \")).slice(1,3).join(\" \")+\", \"+$[3];var L=a.qanda?a.qanda.map((function(e){return D(k.a,{qanda:e,key:\"QandA\".concat(e.question)})})):D(h.a,null);L=L.length?L:D(\"div\",{className:v.a.qandaText},\"no question and answer pairs yet\");var z=[],H=u?{display:\"none\"}:{display:\"block\"},M=function(){var t=Object(o.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.currentUser){t.next=3;break}return Object(C.b)(\"warning\",\"sign in$: must be signed in to perform this action\",e.setAlert,e.resetAlert),t.abrupt(\"return\",null);case 3:if(g.fields.value.length){t.next=6;break}return Object(C.b)(\"warning\",\"message$: message field is required\",e.setAlert,e.resetAlert),t.abrupt(\"return\",null);case 6:return t.next=8,A({variables:{userFromId:e.currentUser._id,userToId:a.user._id,message:g.fields.value,postId:a._id,proposedContribution:n}});case 8:t.sent&&(m(null),g.reset(),Object(C.b)(\"success\",\"sent$: (check your answered notifications for the response) request has been sent to \".concat(a.user.username),e.setAlert,e.resetAlert));case 10:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Q=function(e){var t=a.skillNames[e],r=a.skillFills[e],s=a.skillCapacities[e],i=u===t?{display:\"block\"}:{display:\"none\"},o=u===t?D(\"h4\",{onClick:function(){return m(null)},className:v.a.PPSButtonExit},\"X\"):D(\"h4\",r<s?{onClick:function(){return m(t)},className:v.a.PPSButton}:{className:v.a.PPSButtonDisabled},\"join\"),c=Array(a.skillNames.length).fill(0);c[e]=1,z.push(D(\"div\",{className:v.a.PPSSkill,key:\"PPSS\".concat(t)},D(\"div\",{className:v.a.PPSDivision}),D(\"p\",{className:v.a.PPSSkillName},t),D(\"div\",{className:v.a.PPSSkillSecondary},D(\"p\",{className:v.a.PPSSkillInfo},r,\"/\",s),o),D(\"div\",{className:v.a.PPSSkillForm,style:i},D(\"div\",{className:v.a.PPSTitle},D(w.a,{inputFor:\"PPS-message\",info:!1,title:\"message\",color:\"white\"})),D(\"div\",{className:v.a.PPSInputContainer},D(\"textarea\",Object(n.a)({className:v.a.PPSInput,id:\"PPS-message\"},g.fields))),D(\"div\",{className:v.a.PPCSubmitContainer},D(\"h4\",{onClick:function(){return M(c)},className:v.a.PPSBButton,style:{borderColor:a.color}},\"join\")))))};for(var R in a.skillNames)Q(R);var X=function(){var t=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.currentUser){t.next=3;break}return Object(C.b)(\"warning\",\"sign in$: must be signed in to perform this action\",e.setAlert,e.resetAlert),t.abrupt(\"return\",null);case 3:if(f.fields.value.length){t.next=6;break}return Object(C.b)(\"warning\",\"question$: question field is required\",e.setAlert,e.resetAlert),t.abrupt(\"return\",null);case 6:return t.next=8,I({variables:{userFromId:e.currentUser._id,userToId:a.user._id,postId:a._id,question:f.fields.value}});case 8:t.sent&&(f.reset(),Object(C.b)(\"success\",\"sent$: (check your answered notifications for the response) question has been sent to \".concat(a.user.username),e.setAlert,e.resetAlert));case 10:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),J=Object(C.a)(a.color).colorPallette,W=a.team?a.team.map((function(e){return D(P.a,{href:\"/user/username\",as:\"/user/\".concat(e),className:\"\".concat(v.a.PPCUserContainer,\" neutralize-link\"),key:\"PT\".concat(e)},D(\"a\",null,D(\"img\",{className:v.a.PPCUserIcon,src:\"/svg/userB.svg\",alt:\"user\"}),D(\"p\",{className:\"NM\"},e)))})):null;a.skillCapacities.reduce((function(e,t){return t+e}),0),a.skillFills.reduce((function(e,t){return t+e}),0);return D(U.a,null,D(_.a,null,D(\"title\",null,\"Unilous\"),D(\"meta\",{property:\"og:title\",content:\"Unilous\",key:\"title\"}),D(\"meta\",{property:\"og:description\",content:\"Share a project, build a team, make it awesome!\",key:\"description\"}),D(\"meta\",{name:\"twitter:title\",content:\"Unilous\",key:\"title\"}),D(\"meta\",{name:\"description\",content:\"Share a project, build a team, make it awesome!\",key:\"description\"})),D(\"div\",{className:\"navbar-height\"}),D(\"div\",{className:v.a.postPageContainer},D(\"div\",{className:v.a.PPContent},D((function(){return D(\"div\",{className:v.a.homeOptions},D(P.a,{href:\"/results/all\"},D(\"a\",{className:\"\".concat(v.a.homeOption,\" neutralize-link\"),style:{backgroundColor:\"#282828\"}},D(\"img\",{src:\"/svg/searchWW.svg\",className:v.a.homeOptionIcon,alt:\"search\"}),D(\"h3\",{className:v.a.homeOptionText},\"browse all\"))),D(P.a,{href:\"/postformpage/\"},D(\"a\",{className:\"\".concat(v.a.homeOption,\" neutralize-link\"),style:{backgroundColor:\"rgb(52,166,95)\"}},D(\"img\",{src:\"/svg/plusW.svg\",className:v.a.homeOptionIcon,alt:\"add\"}),D(\"h3\",{className:v.a.homeOptionText},\"add project\"))),D(\"a\",{href:\"https://discord.gg/v7vFc9U\",className:\"\".concat(v.a.homeOption,\" \").concat(v.a.homeOptionHighlight,\" neutralize-link\"),style:{backgroundColor:\"#7289DA\"}},D(\"img\",{src:\"/svg/websites/discord.svg\",className:v.a.homeOptionIcon,alt:\"Discord\"}),D(\"h3\",{className:v.a.homeOptionText},\"community discord\")))}),null),D(\"h2\",{className:v.a.PPCTitle},a.title),D(\"div\",{className:v.a.PPCSubHeader},D(P.a,{href:\"/user/[username]\",as:\"/user/\".concat(encodeURIComponent(a.user.username))},D(\"a\",{className:\"\".concat(v.a.PPCUserContainer,\" neutralize-link\")},D(\"img\",{className:v.a.PPCUserIcon,src:\"/svg/userB.svg\",alt:\"user\"}),D(\"p\",{className:\"NM\"},a.user.username))),D(\"p\",{className:v.a.PPCTime},$)),D((function(){var e=a.description.split(\" \");for(var t in e)e[t].includes(\"https://\")&&(e[t]='<a href=\"'.concat(e[t],'\" class=\"p-link neutralize-link\">').concat(e[t],\"</a>\")),e[t].includes(\"http://\")&&(e[t]='<a href=\"'.concat(e[t],'\" class=\"p-link neutralize-link\">').concat(e[t],\"</a>\"));var n=e.join(\" \");return D(\"p\",{className:v.a.PPCDescription,dangerouslySetInnerHTML:{__html:n}})}),null),D(N.a,{imageLinks:a.imageLinks,color:a.color}),D(O.a,{referenceLinks:a.referenceLinks}),D(\"h3\",{className:v.a.PPCTitle},\"Q and A\"),D(\"div\",{className:v.a.PPCAllQandaContainer},L),D(\"h3\",{className:v.a.PPCTitle},\"team\"),D(\"div\",{className:v.a.teamInfo},W.length,\" team members\"),D(\"div\",{className:v.a.PPCTeamContainer},W)),D(j.a,{pallette:J},D(\"div\",{className:v.a.PPSFollowHeader},D(\"div\",{onClick:function(){return T()},className:v.a.PPSFollowHeader,style:{borderTop:\"2px solid currentPost.color\"}},D(\"svg\",{className:v.a.PPCUserIcon,fill:a.color,viewBox:\"0 -28 512.00002 512\",xmlns:\"http://www.w3.org/2000/svg\"},D(\"path\",{d:\"m471.382812 44.578125c-26.503906-28.746094-62.871093-44.578125-102.410156-44.578125-29.554687 0-56.621094 9.34375-80.449218 27.769531-12.023438 9.300781-22.917969 20.679688-32.523438 33.960938-9.601562-13.277344-20.5-24.660157-32.527344-33.960938-23.824218-18.425781-50.890625-27.769531-80.445312-27.769531-39.539063 0-75.910156 15.832031-102.414063 44.578125-26.1875 28.410156-40.613281 67.222656-40.613281 109.292969 0 43.300781 16.136719 82.9375 50.78125 124.742187 30.992188 37.394531 75.535156 75.355469 127.117188 119.3125 17.613281 15.011719 37.578124 32.027344 58.308593 50.152344 5.476563 4.796875 12.503907 7.4375 19.792969 7.4375 7.285156 0 14.316406-2.640625 19.785156-7.429687 20.730469-18.128907 40.707032-35.152344 58.328125-50.171876 51.574219-43.949218 96.117188-81.90625 127.109375-119.304687 34.644532-41.800781 50.777344-81.4375 50.777344-124.742187 0-42.066407-14.425781-80.878907-40.617188-109.289063zm0 0\"})),D(\"p\",{className:\"NM\"},\"follow\"))),z,D(\"div\",{style:H},D(\"div\",{className:v.a.PPSDivision}),D(\"div\",{className:v.a.PPSTitle},D(w.a,{inputFor:\"PPS-question\",info:!0,title:\"question\",color:\"white\"},D(\"ul\",{style:{margin:0}},D(\"li\",null,\"if answered it will be shown on post\")))),D(\"div\",{className:v.a.PPSInputContainer},D(\"textarea\",Object(n.a)({className:v.a.PPSInput,id:\"PPS-question\"},f.fields))),D(\"div\",{className:v.a.PPCSubmitContainer},D(\"h4\",{onClick:function(){return X()},className:v.a.PPSButton,style:{borderColor:a.color}},\"ask\"))))))}));F.getInitialProps=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.query({query:b.c,variables:{title:\"Unilous\"}}).catch((function(e){return console.log(e)}));case 2:return t=e.sent,e.abrupt(\"return\",{post:t.data.findPost});case 4:case\"end\":return e.stop()}}),e)})));t.default=Object(m.b)((function(e){return{currentUser:e.currentUser,token:e.token,alertNotif:e.alertNotif}}),(function(e){return{setAlert:Object(x.b)(S.c,e),resetAlert:Object(x.b)(S.b,e),setToken:Object(x.b)(A.c,e),setCurrentUserSP:Object(x.b)(y.e,e)}}))(F)},\"m0L+\":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return a(\"RNiq\")}])}},[[\"m0L+\",1,2,0,3,4,5,6,7,8,9,11]]]);","extractedComments":[]}